# Tech Challenge - P√≥s-Tech SOAT - FIAP - Fase 2

Alunos:

* Andr√© Mattos - RM358905
* Aurelio Thomasi Jr - RM358104
* Leonardo Ramires - RM358190
* Lucas Arruda - RM358628
* Pedro Marins - RM356883

## Evid√™ncias do projeto
- [Link para o reposit√≥rio](https://github.com/leonardoramires/fiap-ia4devs)
- [Link para o v√≠deo do projeto]()

## Defini√ß√£o do Problema
O problema consiste em alocar ordens de servi√ßo (OS) de manuten√ß√£o para operadores de forma otimizada, considerando as habilidades necess√°rias para cada ordem e as habilidades dos operadores dispon√≠veis. O objetivo √© minimizar o tempo de execu√ß√£o das ordens, evitar horas extras desnecess√°rias e garantir que as ordens sejam atendidas dentro do prazo estipulado.


## Objetivos
Alocar ordens de servi√ßo de forma eficiente, maximizando a compatibilidade entre as habilidades dos operadores e as habilidades necess√°rias para as ordens.
Minimizar o n√∫mero de horas extras trabalhadas pelos operadores.
Garantir que as ordens de maior prioridade sejam atendidas dentro do prazo.


## O Projeto
![Fluxograma Gen√©tico do Algoritmo Gen√©tico](assets/fluxograma.png)
*Figura 1: Fluxograma Gen√©rico do Algoritmo Gen√©tico*

Este projeto foi desenvolvido utilizando um algoritmo gen√©tico para otimizar a aloca√ß√£o de ordens de servi√ßo aos operadores. Abaixo est√£o os pontos essenciais da solu√ß√£o:

### 1. Reajuste nas Fun√ß√µes de Aptid√£o
- ‚ú® Adi√ß√£o de pesos considerando a prioridade da OS
- üìä Penaliza√ß√£o proporcional por horas extras

### 2. Otimiza√ß√£o do Crossover
- üîÑ Garantia de atribui√ß√£o √∫nica para cada ordem
- üìâ Redu√ß√£o de solu√ß√µes invi√°veis

### 3. Processo de Muta√ß√£o Inteligente
- üß¨ Verifica√ß√£o da qualidade p√≥s-muta√ß√£o
- ‚Ü©Ô∏è Revers√£o autom√°tica de muta√ß√µes prejudiciais

### 4. Sistema de Elitismo
- üèÜ Preserva√ß√£o dos melhores indiv√≠duos
- üìà Manuten√ß√£o de solu√ß√µes de alta qualidade entre gera√ß√µes

### 5. Gest√£o Populacional
- üîÑ Reinicializa√ß√£o parcial peri√≥dica
- üéØ Preven√ß√£o de converg√™ncia prematura para uma solu√ß√£o sub√≥tima

### 6. Controle de Qualifica√ß√£o
- ‚úÖ Exig√™ncia m√≠nima de 50% das habilidades necess√°rias
- üö´ Preven√ß√£o de aloca√ß√µes inadequadas

## Detalhamento do Algoritmo Gen√©tico

### 1. Gera√ß√£o da Popula√ß√£o Inicial üå±

A popula√ß√£o inicial consiste em um conjunto de solu√ß√µes (indiv√≠duos) geradas aleatoriamente, onde cada solu√ß√£o representa uma poss√≠vel aloca√ß√£o de ordens de servi√ßo ao longo do per√≠odo de 5 dias.

#### Processo de Gera√ß√£o:
- **Distribui√ß√£o Aleat√≥ria**: As ordens s√£o distribu√≠das entre operadores e dias
- **Valida√ß√£o de Habilidades**: Garantia de compatibilidade entre operador e ordem
- **Estrutura**: `{dia: {operador_id: [ordem_ids]}}`

### 2. Processo de Sele√ß√£o üéØ

Utilizamos o m√©todo de torneio para selecionar as solu√ß√µes (pais) que gerar√£o a pr√≥xima gera√ß√£o.

#### Etapas do Torneio:
1. Sele√ß√£o aleat√≥ria de um grupo de solu√ß√µes
2. Avalia√ß√£o da aptid√£o de cada solu√ß√£o
3. Escolha da melhor solu√ß√£o como pai
4. Repeti√ß√£o at√© atingir o n√∫mero necess√°rio de pais

### 3. Processo de Crossover üîÑ

O crossover combina duas solu√ß√µes (pais) para gerar uma nova solu√ß√£o (filho).

#### Metodologia:
1. **Sele√ß√£o do Ponto**: 
   - Escolha aleat√≥ria do ponto de divis√£o
   - Exemplo: Em 5 dias, ponto 2 = dias [1-2] + [3-5]

2. **Combina√ß√£o**:
   - Primeiro segmento do pai 1
   - Segundo segmento do pai 2
   - Garantia de atribui√ß√£o √∫nica para cada ordem

### 4. Processo de Muta√ß√£o üß¨

A muta√ß√£o introduz varia√ß√µes nas solu√ß√µes para manter a diversidade gen√©tica.

#### Procedimento:
1. **Verifica√ß√£o**: Probabilidade de muta√ß√£o por dia
2. **Execu√ß√£o**: 
   - Sele√ß√£o de dois operadores no mesmo dia
   - Troca de ordens entre eles
3. **Valida√ß√£o**: 
   - Avalia√ß√£o pr√© e p√≥s-muta√ß√£o
   - Revers√£o se n√£o houver melhoria

### 5. Fun√ß√£o de Aptid√£o ‚öñÔ∏è

Avalia a qualidade das solu√ß√µes considerando m√∫ltiplos crit√©rios.

#### Crit√©rios de Avalia√ß√£o:
1. **Compatibilidade de Habilidades**:
   - Pontua√ß√£o positiva para matches
   - Penalidades para incompatibilidades

2. **Gest√£o de Prazos**:
   - Verifica√ß√£o de conclus√£o no prazo
   - Penalidades proporcionais a atrasos e prioridades

3. **Controle de Horas**:
   - Monitoramento de horas por operador
   - Penaliza√ß√£o por excesso

### 6. Fluxo do Algoritmo üîÑ

1. **Inicializa√ß√£o**:
   - Gera√ß√£o da popula√ß√£o inicial

2. **Ciclo Evolutivo**:
   - C√°lculo de aptid√£o
   - Sele√ß√£o por torneio
   - Crossover
   - Muta√ß√£o
   - Elitismo
   - Reinicializa√ß√£o parcial peri√≥dica

3. **Finaliza√ß√£o**:
   - Sele√ß√£o da melhor solu√ß√£o
   - Convers√£o para DataFrame

## Informa√ß√µes gerais sobre o resultado do algoritmo

A an√°lise dos resultados do algoritmo gen√©tico para aloca√ß√£o de ordens de servi√ßo de manuten√ß√£o revela aspectos importantes sobre sua performance e limita√ß√µes. O algoritmo foi desenvolvido para otimizar a distribui√ß√£o de 100 ordens de servi√ßo entre 15 operadores ao longo de 5 dias, considerando m√∫ltiplas vari√°veis como habilidades t√©cnicas, prioridades e prazos.

### üìä Resultados Principais

#### 1. Capacidade de Aloca√ß√£o ‚úÖ
- O algoritmo conseguiu alocar 100% das ordens de servi√ßo (100 ordens)
- A distribui√ß√£o contemplou todos os 15 operadores dispon√≠veis
- Houve cobertura dos 5 dias do per√≠odo analisado

#### 2. Distribui√ß√£o Temporal üìÖ
**Concentra√ß√£o nos Primeiros Dias:**
| Dia | Ordens | Horas | % do Total |
|-----|---------|-------|------------|
| 1 | 29 | 142 | 28,3% |
| 2 | 23 | 104 | 20,7% |
| 3 | 23 | 128 | 25,5% |
| 4 | 11 | 62 | 12,4% |
| 5 | 14 | 66 | 13,1% |

#### 3. Gest√£o de Prioridades ‚ö°
**Distribui√ß√£o por N√≠vel:**
| Prioridade | Quantidade | Percentual |
|------------|------------|------------|
| Urgente | 26 | 26% |
| Alta | 28 | 28% |
| M√©dia | 27 | 27% |
| Baixa | 19 | 19% |

#### 4. Compatibilidade de Habilidades üéØ
- A compatibilidade m√©dia ficou em 82%
- Foram necess√°rias adapta√ß√µes para cobrir todas as ordens

### üö® Desafios e Limita√ß√µes Identificadas

#### 1. Capacidade Operacional
- O volume de trabalho excede significativamente a capacidade da equipe
- A m√©dia de horas extras por operador est√° muito acima do aceit√°vel
- Poss√≠vel necessidade de redimensionamento da equipe

#### 2. Distribui√ß√£o Temporal
- Concentra√ß√£o excessiva nos primeiros tr√™s dias
- Subutiliza√ß√£o da capacidade nos √∫ltimos dois dias
- Necessidade de melhor balanceamento da carga de trabalho

#### 3. Gest√£o de Prioridades
- Atrasos em ordens urgentes indicam necessidade de ajustes no algoritmo
- O sistema de prioriza√ß√£o atual pode n√£o estar sendo suficientemente considerado

#### 4. Compatibilidade T√©cnica
Aus√™ncia de matches perfeitos sugere poss√≠vel necessidade de:
- üìö Treinamento adicional para a equipe
- üîÑ Revis√£o dos crit√©rios de matching
- üë• Poss√≠vel contrata√ß√£o de especialistas em √°reas espec√≠ficas

### üí° Recomenda√ß√µes para Melhorias

#### 1. Ajustes no Algoritmo
- Implementar pesos mais significativos para prioridades urgentes
- Melhorar a distribui√ß√£o temporal das ordens
- Refinar os crit√©rios de matching de habilidades

#### 2. Recursos Humanos
- Avaliar a necessidade de contrata√ß√µes adicionais
- Identificar gaps de habilidades para treinamento
- Considerar a redistribui√ß√£o de operadores entre turnos

#### 3. Processos
- Revisar os crit√©rios de classifica√ß√£o de prioridades
- Estabelecer limites mais r√≠gidos para horas extras
- Implementar mecanismos de balanceamento de carga

> **Conclus√£o**: Esta an√°lise demonstra que, embora o algoritmo tenha conseguido alocar todas as ordens, existem oportunidades significativas de melhoria para otimizar a distribui√ß√£o do trabalho e garantir uma opera√ß√£o mais sustent√°vel e eficiente.

### 1. Estat√≠sticas gerais

| M√©trica | Valor |
|---------|-------|
| Total de Ordens | 100 |
| Ordens Alocadas | 100 (100.0%) |
| Ordens N√£o Alocadas | 0 |

### 2. An√°lise por prioridade

| Prioridade | Quantidade | Percentual |
|------------|------------|------------|
| Urgente | 26 | 26.0% |
| Alta | 28 | 28.0% |
| M√©dia | 27 | 27.0% |
| Baixa | 19 | 19.0% |

### 3. An√°lise por operador

| Operador | Ordens Alocadas | Horas Alocadas | Capacidade | % Utiliza√ß√£o |
|----------|-----------------|----------------|------------|--------------|
| op1 | 10 | 57.0h | 7.0h | 814.3% |
| op2 | 6 | 32.0h | 8.0h | 400.0% |
| op3 | 5 | 28.0h | 7.0h | 400.0% |
| op4 | 7 | 28.0h | 9.0h | 311.1% |
| op5 | 9 | 37.0h | 9.0h | 411.1% |
| op6 | 9 | 43.0h | 8.0h | 537.5% |
| op7 | 5 | 26.0h | 7.0h | 371.4% |
| op8 | 6 | 29.0h | 7.0h | 414.3% |
| op9 | 10 | 43.0h | 7.0h | 614.3% |
| op10 | 10 | 50.0h | 7.0h | 714.3% |
| op11 | 5 | 32.0h | 8.0h | 400.0% |
| op13 | 6 | 34.0h | 7.0h | 485.7% |
| op14 | 5 | 23.0h | 7.0h | 328.6% |
| op15 | 4 | 22.0h | 7.0h | 314.3% |
| op12 | 3 | 18.0h | 8.0h | 225.0% |

### 4. An√°lise de prazos

| M√©trica | Valor |
|---------|-------|
| Ordens no Prazo | 65 (65.0%) |

## Detalhamento dos Atrasos

| Ordem | Dias de Atraso | Prioridade |
|-------|----------------|------------|
| ordem40 | 1 | urgente |
| ordem63 | 1 | alta |
| ordem92 | 1 | urgente |
| ordem62 | 1 | urgente |
| ordem12 | 1 | alta |
| ordem70 | 1 | urgente |
| ordem48 | 1 | m√©dia |
| ordem38 | 1 | urgente |
| ordem95 | 2 | m√©dia |
| ordem24 | 2 | m√©dia |
| ordem44 | 1 | baixa |
| ordem90 | 2 | baixa |
| ordem61 | 2 | alta |
| ordem46 | 2 | urgente |
| ordem67 | 2 | m√©dia |
| ordem49 | 1 | alta |
| ordem78 | 3 | alta |
| ordem29 | 2 | m√©dia |
| ordem1 | 1 | m√©dia |
| ordem80 | 1 | urgente |
| ordem5 | 3 | alta |
| ordem39 | 2 | m√©dia |
| ordem59 | 3 | baixa |
| ordem42 | 3 | baixa |
| ordem76 | 2 | baixa |
| ordem65 | 1 | alta |
| ordem15 | 2 | baixa |
| ordem57 | 1 | alta |
| ordem100 | 1 | baixa |
| ordem21 | 2 | urgente |
| ordem3 | 1 | urgente |
| ordem81 | 4 | m√©dia |
| ordem51 | 4 | alta |
| ordem9 | 2 | m√©dia |
| ordem79 | 2 | alta |

### 5. An√°lise de compatibilidade

| M√©trica | Valor |
|---------|-------|
| Matches Perfeitos | 0 (0.0%) |
| Compatibilidade M√©dia | 8200.0% |

### 6. Distribui√ß√£o por dia

#### Dia 1
| M√©trica | Valor |
|---------|-------|
| Total de Ordens | 29 |
| Horas Alocadas | 142.0h |

**Distribui√ß√£o de Prioridades:**
- Urgente: 8
- Alta: 7
- M√©dia: 7
- Baixa: 7

#### Dia 2
| M√©trica | Valor |
|---------|-------|
| Total de Ordens | 23 |
| Horas Alocadas | 104.0h |

**Distribui√ß√£o de Prioridades:**
- Urgente: 9
- Alta: 8
- M√©dia: 5
- Baixa: 1

#### Dia 3
| M√©trica | Valor |
|---------|-------|
| Total de Ordens | 23 |
| Horas Alocadas | 128.0h |

**Distribui√ß√£o de Prioridades:**
- Urgente: 5
- Alta: 5
- M√©dia: 8
- Baixa: 5

#### Dia 4
| M√©trica | Valor |
|---------|-------|
| Total de Ordens | 11 |
| Horas Alocadas | 62.0h |

**Distribui√ß√£o de Prioridades:**
- Urgente: 2
- Alta: 3
- M√©dia: 4
- Baixa: 2

#### Dia 5
| M√©trica | Valor |
|---------|-------|
| Total de Ordens | 14 |
| Horas Alocadas | 66.0h |

**Distribui√ß√£o de Prioridades:**
- Urgente: 2
- Alta: 5
- M√©dia: 3
- Baixa: 4

---

### Dados dos operadores

---

| operator_id | skills | level | shift | hours_per_day |
|------------|--------|-------|-------|---------------|
| op1 | alvenaria \| pintura | s√™nior | manh√£ | 7 |
| op2 | solda \| alvenaria | pleno | noite | 8 |
| op3 | solda \| pintura | s√™nior | noite | 7 |
| op4 | pintura \| alvenaria | s√™nior | tarde | 9 |
| op5 | alvenaria \| el√©trica \| solda | j√∫nior | noite | 9 |
| op6 | hidr√°ulica \| pintura \| alvenaria | j√∫nior | noite | 8 |
| op7 | alvenaria \| hidr√°ulica \| solda | s√™nior | manh√£ | 7 |
| op8 | alvenaria \| pintura | s√™nior | tarde | 7 |
| op9 | solda \| el√©trica | s√™nior | manh√£ | 7 |
| op10 | hidr√°ulica \| el√©trica \| alvenaria | pleno | manh√£ | 7 |
| op11 | alvenaria \| pintura | j√∫nior | noite | 8 |
| op12 | alvenaria \| hidr√°ulica | j√∫nior | tarde | 8 |
| op13 | el√©trica \| pintura | especialista | manh√£ | 7 |
| op14 | alvenaria \| solda \| pintura | s√™nior | tarde | 7 |
| op15 | alvenaria \| pintura | j√∫nior | noite | 7 |

### Dados das ordens

| order_id | required_skills | estimated_hours | priority | expected_start_day |
|----------|----------------|-----------------|----------|-------------------|
| ordem1 | alvenaria | 2 | m√©dia | 3 |
| ordem2 | solda \| pintura | 7 | urgente | 4 |
| ordem3 | solda | 6 | urgente | 4 |
| ordem4 | el√©trica | 2 | m√©dia | 4 |
| ordem5 | el√©trica | 2 | alta | 1 |
| ... | ... | ... | ... | ... |
| ordem96 | pintura \| solda | 8 | alta | 4 |
| ordem97 | pintura \| alvenaria | 6 | urgente | 4 |
| ordem98 | alvenaria \| solda | 4 | alta | 2 |
| ordem99 | pintura \| alvenaria | 4 | baixa | 5 |
| ordem100 | hidr√°ulica | 7 | baixa | 4 |

[100 rows x 5 columns]

### Dados das ordens atribu√≠das aos operdores (shape = (100, 16))

| dia | id_operador | id_ordem | habilidades_ordem | habilidades_nao_atendidas | compatibilidade_nivel_prioridade | hora_extra | total_hora_extra |
|-----|-------------|----------|-------------------|---------------------------|----------------------------------|------------|------------------|
| 3 | op1 | ordem2 | solda \| pintura | solda | OK | N√£o | 0 |
| 2 | op1 | ordem26 | pintura \| alvenaria | | OK | Sim | 1 |
| 5 | op1 | ordem42 | pintura | | OK | N√£o | 0 |
| 2 | op1 | ordem47 | alvenaria \| hidr√°ulica | hidr√°ulica | OK | Sim | 5 |
| 3 | op1 | ordem48 | alvenaria | | OK | Sim | 7 |
| ... | ... | ... | ... | ... | ... | ... | ... |
| 5 | op9 | ordem3 | solda | | OK | N√£o | 0 |
| 3 | op9 | ordem58 | el√©trica | | OK | Sim | 2 |
| 5 | op9 | ordem81 | alvenaria \| solda | alvenaria | OK | Sim | 1 |
| 3 | op9 | ordem88 | el√©trica | | OK | Sim | 6 |
| 4 | op9 | ordem93 | solda | | OK | N√£o | 0 |
